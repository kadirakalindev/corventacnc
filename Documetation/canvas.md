# üé® **Canvas √áiziminde Profil √áizim Teknikleri Detaylƒ± Analiz**

## üìã **Genel Bakƒ±≈ü**

Corventa B√ºk√ºm Makinesi'nin web aray√ºz√ºnde, profil b√ºk√ºm sim√ºlasyonu i√ßin **HTML5 Canvas** kullanƒ±larak **3 farklƒ± √ßizgi t√ºr√º** ile g√∂rselle≈ütirme yapƒ±lƒ±r:

1. **üî≤ Kesikli √áizgi** (Dashed Line) - Merkez ve referans √ßizgileri
2. **üîµ Dƒ±≈ü √áizgi** (Outer Line) - Dƒ±≈ü profil sƒ±nƒ±rƒ±  
3. **üîµ ƒ∞√ß √áizgi** (Inner Line) - ƒ∞√ß profil sƒ±nƒ±rƒ±

---

## üéØ **1. Kesikli √áizgi (Dashed Line) √áizimi**

### **Kullanƒ±m Alanlarƒ±:**
- ‚úÖ **Merkez b√ºk√ºm yayƒ±** (referans √ßizgisi)
- ‚úÖ **√ú√ßgen geometri √ßizgileri** (yardƒ±mcƒ± √ßizgiler)
- ‚úÖ **Koordinat eksenleri** (rehber √ßizgiler)

### **Teknik Implementasyon:**

```javascript
// 1. Kesikli √ßizgi stilini ayarla
this.ctx.setLineDash([5, 3]); // 5px √ßizgi, 3px bo≈üluk
this.ctx.strokeStyle = 'black';
this.ctx.lineWidth = 2;

// 2. Merkez b√ºk√ºm yayƒ±nƒ± √ßiz
this.ctx.beginPath();
this.ctx.arc(center_x_px, arc_center_y_px_corrected, bending_center_radius_px, 0, 2 * Math.PI);
this.ctx.stroke();

// 3. Kesikli √ßizgi stilini sƒ±fƒ±rla
this.ctx.setLineDash([]); // Normal √ßizgiye d√∂n
```

### **Kesikli √áizgi Desenleri:**

| Desen | Kod | G√∂r√ºn√ºm | Kullanƒ±m |
|-------|-----|---------|----------|
| **Kƒ±sa Kesik** | `[5, 3]` | `-----   -----   -----` | Merkez √ßizgileri |
| **Uzun Kesik** | `[20, 5, 8, 5]` | `-------- - -------- -` | √ú√ßgen geometri |
| **Noktalƒ±** | `[2, 2]` | `- - - - - - - -` | ƒ∞nce rehber √ßizgiler |

### **√ú√ßgen Geometri √áizimi:**

```javascript
// √ú√ßgen √ßizimi i√ßin yardƒ±mcƒ± metod
drawTriangle(center_x_px, result) {
    const triangle_w_px = (result.TriangleWidth / 2) * this.scale;
    const triangle_h_px = result.TriangleHeight * this.scale;

    const tx_apex = center_x_px;
    const ty_apex = this.transform_y_for_canvas(result.TriangleHeight);
    const tx_bottom_left = center_x_px - triangle_w_px;
    const tx_bottom_right = center_x_px + triangle_w_px;
    const ty_bottom = this.transform_y_for_canvas(0);

    this.ctx.beginPath();
    this.ctx.strokeStyle = 'black';
    this.ctx.lineWidth = 1;
    this.ctx.setLineDash([5, 3]);

    // Taban √ßizgisi
    this.ctx.moveTo(tx_bottom_left, ty_bottom);
    this.ctx.lineTo(tx_bottom_right, ty_bottom);

    // Yan kenarlar
    this.ctx.moveTo(tx_bottom_left, ty_bottom);
    this.ctx.lineTo(tx_apex, ty_apex);
    this.ctx.moveTo(tx_bottom_right, ty_bottom);
    this.ctx.lineTo(tx_apex, ty_apex);

    // Dikey merkez √ßizgisi
    this.ctx.moveTo(center_x_px, ty_bottom);
    this.ctx.lineTo(center_x_px, ty_apex);

    this.ctx.stroke();
    this.ctx.setLineDash([]);
}
```

---

## üîµ **2. Dƒ±≈ü Profil √áizgisi (Outer Line)**

### **Matematiksel Hesaplama:**

```javascript
// Dƒ±≈ü profil yarƒ±√ßapƒ± = B√ºk√ºm yarƒ±√ßapƒ± - Vals topu yarƒ±√ßapƒ±
const outer_profile_radius_mm = effective_bending_radius_mm - bottom_ball_radius_mm;
const outer_profile_radius_px = outer_profile_radius_mm * this.scale;
```

### **√áizim ƒ∞mplementasyonu:**

```javascript
// Dƒ±≈ü profil √ßizgisi (MAVƒ∞ - Kalƒ±n)
this.ctx.beginPath();
this.ctx.strokeStyle = 'blue';
this.ctx.lineWidth = 3; // Kalƒ±n √ßizgi
this.ctx.setLineDash([]); // Kesintisiz √ßizgi
this.ctx.arc(center_x_px, arc_center_y_px_corrected, outer_profile_radius_px, 0, 2 * Math.PI);
this.ctx.stroke();
```

### **Fiziksel Anlamƒ±:**
- üîß **Profil dƒ±≈ü y√ºzeyi** ile vals topunun **temas noktasƒ±**
- üìè **B√ºk√ºm yarƒ±√ßapƒ±ndan** vals topu yarƒ±√ßapƒ± **√ßƒ±karƒ±lƒ±r**
- üéØ **Malzeme dƒ±≈ü kenarƒ±nƒ±n** takip edeceƒüi yol

### **Alternatif √áizim Y√∂ntemi:**

```javascript
// Backup sistemdeki dƒ±≈ü b√ºk√ºm √ßizgisi
const bendingOutsideRadius = (bending_radius - ball_radius) * scale;

ctx.strokeStyle = 'blue';
ctx.lineWidth = 3;
ctx.setLineDash([]);
ctx.beginPath();
ctx.arc(radiusOutsideX, radiusOutsideY, bendingOutsideRadius * 2, 0, Math.PI * 2);
ctx.stroke();
```

---

## üîµ **3. ƒ∞√ß Profil √áizgisi (Inner Line)**

### **Matematiksel Hesaplama:**

```javascript
// ƒ∞√ß profil yarƒ±√ßapƒ± = Dƒ±≈ü profil yarƒ±√ßapƒ± - Profil kalƒ±nlƒ±ƒüƒ±
const inner_profile_radius_mm = outer_profile_radius_mm - profile_height_mm;
const inner_profile_radius_px = inner_profile_radius_mm * this.scale;
```

### **√áizim ƒ∞mplementasyonu:**

```javascript
// ƒ∞√ß profil √ßizgisi (MAVƒ∞ - ƒ∞nce)
this.ctx.beginPath();
this.ctx.strokeStyle = 'blue';
this.ctx.lineWidth = 1; // ƒ∞nce √ßizgi
this.ctx.setLineDash([]); // Kesintisiz √ßizgi
this.ctx.arc(center_x_px, arc_center_y_px_corrected, inner_profile_radius_px, 0, 2 * Math.PI);
this.ctx.stroke();
```

### **Fiziksel Anlamƒ±:**
- üîß **Profil i√ß y√ºzeyi** sƒ±nƒ±rƒ±
- üìè **Dƒ±≈ü profilden** profil kalƒ±nlƒ±ƒüƒ± **√ßƒ±karƒ±lƒ±r**
- üéØ **Malzeme i√ß kenarƒ±nƒ±n** takip edeceƒüi yol

### **Alternatif √áizim Y√∂ntemi:**

```javascript
// Backup sistemdeki i√ß b√ºk√ºm √ßizgisi
const bendingInsideRadius = (bending_radius - profile_thickness - ball_radius) * scale;

ctx.strokeStyle = 'blue';
ctx.lineWidth = 3;
ctx.setLineDash([]);
ctx.beginPath();
ctx.arc(radiusInsideX, radiusInsideY, bendingInsideRadius * 2, 0, Math.PI * 2);
ctx.stroke();
```

---

## üé® **Canvas √áizim Stil Kontrolleri**

### **Temel Stil Parametreleri:**

```javascript
// √áizgi rengi
ctx.strokeStyle = 'blue';    // Mavi profil √ßizgileri
ctx.strokeStyle = 'black';   // Siyah merkez √ßizgileri
ctx.strokeStyle = 'red';     // Kƒ±rmƒ±zƒ± vals toplarƒ±
ctx.strokeStyle = '#d9534f'; // Kƒ±rmƒ±zƒ± (HEX formatƒ±nda)
ctx.strokeStyle = '#aaa';    // Gri yardƒ±mcƒ± √ßizgiler

// √áizgi kalƒ±nlƒ±ƒüƒ±
ctx.lineWidth = 1;  // ƒ∞nce √ßizgi (i√ß profil, yardƒ±mcƒ± √ßizgiler)
ctx.lineWidth = 2;  // Orta kalƒ±nlƒ±k (merkez √ßizgileri)
ctx.lineWidth = 3;  // Kalƒ±n √ßizgi (dƒ±≈ü profil, vals toplarƒ±)

// √áizgi deseni
ctx.setLineDash([]);          // Kesintisiz (normal)
ctx.setLineDash([5, 3]);      // Kƒ±sa kesikli
ctx.setLineDash([5, 5]);      // E≈üit kesikli
ctx.setLineDash([20, 5, 8, 5]); // Karƒ±≈üƒ±k desen
```

### **Dolgu ve ≈ûeffaflƒ±k:**

```javascript
// Dolgu rengi ve ≈üeffaflƒ±k
ctx.fillStyle = 'rgba(255, 0, 0, 0.3)'; // %30 ≈üeffaf kƒ±rmƒ±zƒ±
ctx.fillStyle = 'rgba(0, 0, 255, 0.2)'; // %20 ≈üeffaf mavi
ctx.fillStyle = '#f8f9fa';              // Arka plan rengi

// Vals toplarƒ± i√ßin ≈üeffaf dolgu
ctx.strokeStyle = 'red';
ctx.fillStyle = 'rgba(255, 0, 0, 0.3)';
ctx.lineWidth = 3;
ctx.beginPath();
ctx.arc(x, y, radius, 0, 2 * Math.PI);
ctx.stroke(); // √áevre √ßizgisi
ctx.fill();   // ≈ûeffaf dolgu
```

---

## üìê **Koordinat Sistemi ve √ñl√ßeklendirme**

### **Y Koordinat D√∂n√º≈ü√ºm√º:**

```javascript
// Canvas Y koordinatƒ±nƒ± matematiksel Y koordinatƒ±na √ßevir
transform_y_for_canvas(y_mm) {
    return this.canvas.height - (y_mm * this.scale + this.margin);
}

// Alternatif d√∂n√º≈ü√ºm metodu (backup sistemde)
function Y_CordinateTransformationReflection(y, panel) {
    return panel.height - y;
}
```

**Neden Gerekli:**
- üîÑ **Canvas**: Y ekseni yukarƒ±dan a≈üaƒüƒ±ya (0 √ºstte)
- üìä **Matematik**: Y ekseni a≈üaƒüƒ±dan yukarƒ±ya (0 altta)
- üîß **Makine**: Fiziksel koordinatlar a≈üaƒüƒ±dan yukarƒ±ya

### **√ñl√ßeklendirme Hesaplamasƒ±:**

```javascript
// Otomatik √∂l√ßeklendirme
this.scale = Math.min(
    (this.canvas.width - 2 * this.margin) / total_width_mm,
    (this.canvas.height - 2 * this.margin) / total_height_mm
);

// Manuel √∂l√ßeklendirme (backup sistemde)
const scale = Math.min(
    (canvas.width - 100) / (triangleHeight * 2),
    (canvas.height - 100) / (triangleHeight * 2)
);
```

### **Merkez Koordinat Hesaplama:**

```javascript
// Canvas merkez noktasƒ±
const centerX = canvas.width / 2;
const centerY = canvas.height / 2;

// Offset deƒüerleri
const offsetX = canvas.width / 2;
const offsetY = canvas.height / 2;
const pnlEdgeOffset = 40; // Kenar bo≈üluƒüu
```

---

## üîß **√áizim Sekansƒ± ve Optimizasyon**

### **Doƒüru √áizim Sƒ±rasƒ±:**

```javascript
function visualize(parameters, result) {
    // 1. Canvas'ƒ± temizle
    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

    // 2. Arka plan
    this.ctx.fillStyle = '#f8f9fa';
    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

    // 3. Koordinat eksenleri (opsiyonel)
    this.drawAxes();

    // 4. Yardƒ±mcƒ± √ßizgiler (kesikli)
    this.drawTriangle(center_x_px, result);

    // 5. Vals toplarƒ± (kƒ±rmƒ±zƒ± dolgulu)
    this.drawBalls(parameters, result);

    // 6. Ana profil √ßizgileri
    this.drawOuterProfile(parameters, result); // Dƒ±≈ü profil (mavi, kalƒ±n)
    this.drawInnerProfile(parameters, result); // ƒ∞√ß profil (mavi, ince)

    // 7. Merkez referans (kesikli, en √ºstte)
    this.drawCenterArc(parameters, result); // Merkez yay (siyah, kesikli)

    // 8. Bilgi paneli
    this.drawInfoPanel(result, radii);
}
```

### **Context State Y√∂netimi:**

```javascript
// Context durumunu kaydet/geri y√ºkle
function drawWithState(drawFunction) {
    ctx.save();    // Mevcut durumu kaydet
    try {
        drawFunction();
    } finally {
        ctx.restore(); // √ñnceki duruma d√∂n
    }
}

// Kullanƒ±m √∂rneƒüi
drawWithState(() => {
    ctx.strokeStyle = 'red';
    ctx.lineWidth = 5;
    ctx.setLineDash([10, 5]);
    // ... √ßizim i≈ülemleri
}); // Otomatik olarak √∂nceki duruma d√∂ner
```

### **Path Optimizasyonu:**

```javascript
// ‚ùå Verimsiz - her √ßizgi i√ßin ayrƒ± path
ctx.beginPath();
ctx.moveTo(x1, y1);
ctx.lineTo(x2, y2);
ctx.stroke();

ctx.beginPath();
ctx.moveTo(x3, y3);
ctx.lineTo(x4, y4);
ctx.stroke();

// ‚úÖ Verimli - tek path'te birden fazla √ßizgi
ctx.beginPath();
ctx.moveTo(x1, y1);
ctx.lineTo(x2, y2);
ctx.moveTo(x3, y3);
ctx.lineTo(x4, y4);
ctx.stroke(); // Tek seferde √ßiz
```

---

## üéØ **Profil T√ºrlerine G√∂re √áizim Stratejileri**

### **1. C Profil √áizimi:**

```javascript
function drawCProfile(center, bending_radius, ball_radius, profile_thickness, scale) {
    // C profili i√ßin √∂zel hesaplamalar
    const c_profile_outer_radius = (bending_radius - ball_radius) * scale;
    const c_profile_inner_radius = (bending_radius - ball_radius - profile_thickness) * scale;
    
    // Dƒ±≈ü kenar (kalƒ±n mavi)
    ctx.strokeStyle = 'blue';
    ctx.lineWidth = 3;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.arc(center.x, center.y, c_profile_outer_radius, 0, 2 * Math.PI);
    ctx.stroke();

    // ƒ∞√ß kenar (ince mavi)  
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.arc(center.x, center.y, c_profile_inner_radius, 0, 2 * Math.PI);
    ctx.stroke();
}
```

### **2. L Profil √áizimi:**

```javascript
function drawLProfile(points, profile_thickness, scale) {
    ctx.beginPath();
    ctx.strokeStyle = 'blue';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);

    // Dƒ±≈ü kenar √ßizgileri
    ctx.moveTo(points.outer[0].x * scale, points.outer[0].y * scale);
    points.outer.forEach(point => {
        ctx.lineTo(point.x * scale, point.y * scale);
    });

    // ƒ∞√ß kenar √ßizgileri
    ctx.moveTo(points.inner[0].x * scale, points.inner[0].y * scale);
    points.inner.forEach(point => {
        ctx.lineTo(point.x * scale, point.y * scale);
    });
    
    ctx.stroke();
}
```

### **3. Kutu Profil √áizimi:**

```javascript
function drawBoxProfile(center, width, height, thickness, scale) {
    const w = width * scale;
    const h = height * scale;
    const t = thickness * scale;
    
    ctx.strokeStyle = 'blue';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    
    // Dƒ±≈ü dikd√∂rtgen
    ctx.strokeRect(center.x - w/2, center.y - h/2, w, h);
    
    // ƒ∞√ß dikd√∂rtgen
    ctx.strokeRect(center.x - (w-2*t)/2, center.y - (h-2*t)/2, w-2*t, h-2*t);
}
```

---

## üîç **Debug ve G√∂rselle≈ütirme Ara√ßlarƒ±**

### **Koordinat Noktalarƒ±nƒ± ƒ∞≈üaretleme:**

```javascript
// Merkez noktalarƒ± g√∂ster
function drawCenterPoint(x, y, color = 'red', size = 3) {
    ctx.save();
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(x, y, size, 0, 2 * Math.PI);
    ctx.fill();
    ctx.restore();
}

// √áarpƒ± i≈üareti √ßiz
function drawCross(x, y, size = 8, color = '#aaa') {
    ctx.save();
    ctx.strokeStyle = color;
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(x - size, y);
    ctx.lineTo(x + size, y);
    ctx.moveTo(x, y - size);
    ctx.lineTo(x, y + size);
    ctx.stroke();
    ctx.restore();
}
```

### **Koordinat Eksenleri:**

```javascript
// Merkez eksenleri √ßiz
function drawAxes() {
    ctx.save();
    ctx.strokeStyle = '#ddd';
    ctx.lineWidth = 1;
    ctx.setLineDash([2, 2]);
    
    // X ekseni (yatay)
    ctx.beginPath();
    ctx.moveTo(0, canvas.height / 2);
    ctx.lineTo(canvas.width, canvas.height / 2);
    ctx.stroke();
    
    // Y ekseni (dikey)
    ctx.beginPath();
    ctx.moveTo(canvas.width / 2, 0);
    ctx.lineTo(canvas.width / 2, canvas.height);
    ctx.stroke();
    
    // Merkez nokta
    drawCenterPoint(canvas.width / 2, canvas.height / 2, '#999', 5);
    
    ctx.restore();
}
```

### **Bilgi Paneli:**

```javascript
// Hesaplama sonu√ßlarƒ±nƒ± g√∂ster
function drawInfoPanel(result, radii) {
    const ctx = this.ctx;
    const margin = 10;
    const lineHeight = 20;
    let y = margin + lineHeight;

    ctx.save();
    ctx.font = '12px Arial';
    ctx.fillStyle = 'black';
    ctx.textAlign = 'left';

    // Deƒüerleri formatla
    const formatNumber = (num) => typeof num === 'number' ? num.toFixed(2) : '0.00';

    // Bilgileri yaz
    const info = [
        `Efektif B√ºk√ºm Yarƒ±√ßapƒ±: ${formatNumber(radii.effectiveRadius)} mm`,
        `Dƒ±≈ü Profil Yarƒ±√ßapƒ±: ${formatNumber(radii.outerRadius)} mm`,
        `ƒ∞√ß Profil Yarƒ±√ßapƒ±: ${formatNumber(radii.innerRadius)} mm`,
        `Yan Top Mesafesi: ${formatNumber(result.LeftPistonPosition)} mm`,
        `Yan Top X Mesafesi: ${formatNumber(Math.abs(result.LeftBallPosition.X))} mm`,
        `Yan Top Y Mesafesi: ${formatNumber(result.LeftBallPosition.Y)} mm`,
        `√úst Top Mesafesi: ${formatNumber(radii.topBallY)} mm`,
        `Profil Y√ºksekliƒüi: ${formatNumber(radii.profileHeight)} mm`
    ];

    info.forEach(text => {
        ctx.fillText(text, margin, y);
        y += lineHeight;
    });

    ctx.restore();
}
```

---

## üé® **Geli≈ümi≈ü √áizim Teknikleri**

### **Gradient Dolgu:**

```javascript
// Radyal gradient (vals toplarƒ± i√ßin)
function createRadialGradient(x, y, radius) {
    const gradient = ctx.createRadialGradient(x, y, 0, x, y, radius);
    gradient.addColorStop(0, 'rgba(255, 255, 255, 0.8)');
    gradient.addColorStop(0.7, 'rgba(255, 0, 0, 0.6)');
    gradient.addColorStop(1, 'rgba(200, 0, 0, 0.8)');
    return gradient;
}

// Kullanƒ±m
ctx.fillStyle = createRadialGradient(ballX, ballY, ballRadius);
ctx.fill();
```

### **G√∂lge Efekti:**

```javascript
// G√∂lge efekti ekle
function drawWithShadow(drawFunction, shadowColor = 'rgba(0,0,0,0.3)') {
    ctx.save();
    ctx.shadowColor = shadowColor;
    ctx.shadowBlur = 5;
    ctx.shadowOffsetX = 2;
    ctx.shadowOffsetY = 2;
    
    drawFunction();
    
    ctx.restore();
}
```

### **Animasyon Desteƒüi:**

```javascript
// B√ºk√ºm animasyonu
function animateBending(startAngle, endAngle, duration = 2000) {
    const startTime = Date.now();
    
    function animate() {
        const elapsed = Date.now() - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        // Easing function (smooth animation)
        const easeProgress = 1 - Math.pow(1 - progress, 3);
        
        const currentAngle = startAngle + (endAngle - startAngle) * easeProgress;
        
        // Canvas'ƒ± temizle ve yeniden √ßiz
        clearCanvas();
        drawBendingAtAngle(currentAngle);
        
        if (progress < 1) {
            requestAnimationFrame(animate);
        }
    }
    
    animate();
}
```

---

## ‚ö†Ô∏è **Yaygƒ±n Hatalar ve √á√∂z√ºmleri**

### **1. √áizgi Deseni Sƒ±fƒ±rlanmamasƒ±:**

```javascript
// ‚ùå Yanlƒ±≈ü - desen sƒ±fƒ±rlanmƒ±yor
ctx.setLineDash([5, 3]);
drawDashedLine();
drawSolidLine(); // Hala kesikli √ßƒ±kar!

// ‚úÖ Doƒüru - desen sƒ±fƒ±rlanƒ±yor
ctx.setLineDash([5, 3]);
drawDashedLine();
ctx.setLineDash([]); // Mutlaka sƒ±fƒ±rla
drawSolidLine();
```

### **2. Koordinat Sistemi Karƒ±≈üƒ±klƒ±ƒüƒ±:**

```javascript
// ‚ùå Yanlƒ±≈ü - Y koordinatƒ± ters
ctx.arc(x, y_mm * scale, radius, 0, 2 * Math.PI);

// ‚úÖ Doƒüru - Y koordinatƒ± d√∂n√º≈üt√ºr√ºlm√º≈ü
ctx.arc(x, transform_y_for_canvas(y_mm), radius, 0, 2 * Math.PI);
```

### **3. √ñl√ßeklendirme Hatalarƒ±:**

```javascript
// ‚ùå Yanlƒ±≈ü - √∂l√ßek unutulmu≈ü
ctx.arc(center_x, center_y, radius_mm, 0, 2 * Math.PI);

// ‚úÖ Doƒüru - √∂l√ßek uygulanmƒ±≈ü
ctx.arc(center_x, center_y, radius_mm * scale, 0, 2 * Math.PI);
```

### **4. Context State Unutulmasƒ±:**

```javascript
// ‚ùå Yanlƒ±≈ü - stil deƒüi≈üiklikleri kalƒ±cƒ±
function drawSpecialLine() {
    ctx.strokeStyle = 'red';
    ctx.lineWidth = 10;
    ctx.setLineDash([20, 10]);
    // ... √ßizim
    // √ñnceki duruma d√∂nd√ºrme yok!
}

// ‚úÖ Doƒüru - save/restore kullanƒ±mƒ±
function drawSpecialLine() {
    ctx.save();
    ctx.strokeStyle = 'red';
    ctx.lineWidth = 10;
    ctx.setLineDash([20, 10]);
    // ... √ßizim
    ctx.restore(); // Otomatik olarak √∂nceki duruma d√∂ner
}
```

### **5. Performance Sorunlarƒ±:**

```javascript
// ‚ùå Yanlƒ±≈ü - her frame'de yeniden hesaplama
function drawFrame() {
    const expensiveCalculation = heavyMathFunction(); // Her seferinde hesapla
    drawWithResult(expensiveCalculation);
}

// ‚úÖ Doƒüru - cache kullanƒ±mƒ±
let cachedResult = null;
function drawFrame() {
    if (!cachedResult) {
        cachedResult = heavyMathFunction(); // Sadece bir kez hesapla
    }
    drawWithResult(cachedResult);
}
```

---

## üìä **Performans Optimizasyon ƒ∞pu√ßlarƒ±**

### **1. Canvas Boyutlandƒ±rma:**

```javascript
// High-DPI ekranlar i√ßin optimizasyon
function setupHighDPICanvas(canvas) {
    const ctx = canvas.getContext('2d');
    const devicePixelRatio = window.devicePixelRatio || 1;
    
    // Canvas fiziksel boyutunu ayarla
    const displayWidth = canvas.clientWidth;
    const displayHeight = canvas.clientHeight;
    
    canvas.width = displayWidth * devicePixelRatio;
    canvas.height = displayHeight * devicePixelRatio;
    
    // CSS boyutunu koru
    canvas.style.width = displayWidth + 'px';
    canvas.style.height = displayHeight + 'px';
    
    // Context'i √∂l√ßeklendir
    ctx.scale(devicePixelRatio, devicePixelRatio);
    
    return ctx;
}
```

### **2. √áizim Batching:**

```javascript
// Aynƒ± stildekileri grupla
function drawMultipleCircles(circles) {
    // Kƒ±rmƒ±zƒ± daireler
    ctx.strokeStyle = 'red';
    ctx.lineWidth = 2;
    ctx.beginPath();
    circles.filter(c => c.color === 'red').forEach(circle => {
        ctx.moveTo(circle.x + circle.radius, circle.y);
        ctx.arc(circle.x, circle.y, circle.radius, 0, 2 * Math.PI);
    });
    ctx.stroke();
    
    // Mavi daireler
    ctx.strokeStyle = 'blue';
    ctx.beginPath();
    circles.filter(c => c.color === 'blue').forEach(circle => {
        ctx.moveTo(circle.x + circle.radius, circle.y);
        ctx.arc(circle.x, circle.y, circle.radius, 0, 2 * Math.PI);
    });
    ctx.stroke();
}
```

Bu Canvas √ßizim sistemi, b√ºk√ºm makinesinin karma≈üƒ±k geometrik hesaplamalarƒ±nƒ± g√∂rsel olarak anla≈üƒ±lƒ±r hale getirerek operat√∂rlerin i≈ülerini kolayla≈ütƒ±rƒ±r! üöÄ

---

## üìö **Kaynaklar ve Daha Fazla Bilgi**

- [HTML5 Canvas API Dok√ºmantasyonu](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API)
- [Canvas Optimizasyon Teknikleri](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas)
- [2D Grafik Matematik Temelleri](https://en.wikipedia.org/wiki/2D_computer_graphics) 